<!DOCTYPE html>
<html>
    <head>
            <meta charset="UTF-8">
            <title>FriendFinder App</title>

            <!-- link sections -->
            <script src="https://code.jquery.com/jquery.js"></script>
            <link rel="stylesheet" type="text/css" href="../public/css/style.css">

            <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/css/bootstrap.min.css" integrity="sha384-ggOyR0iXCbMQv3Xipma34MD+dH/1fQ784/j6cY/iJTQUOhcWr7x9JvoRxT2MZw1T" crossorigin="anonymous">
            <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.0.0/js/bootstrap.min.js"></script>
            <!-- <script src="https://code.jquery.com/jquery.js"></script> -->

    </head>
    <body>
        <div class="container">
            <h2>Survey Questions</h2>
            <hr>
            <h4><strong>About You</strong></h4>
            <h4>Name</h4>
            <input type="text" id="name" class="form-control" required>

            <h4>Link to Photo Image</h4>
            <input type="text" id="photo" class="form-control" required>
            <hr>

            <h3><strong>Question 1</strong></h3>
            <h4 class= "question">Your mind is always buzzing with unexplored ideas and plans.</h4>
            <select class="custom-select" id="questionONE" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 2</strong></h3>
            <h4 class="question">Genereally Speaking, you rely more on your expereince than your imagination.</h4>
            <select class="custom-select" id="questionTWO" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 3</strong></h3>
                <h4 class ="question">You find it easy to stay relaxed and focused even when there is some pressure.</h4>
                <select class="custom-select" id="questionTHREE" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 4</strong></h3>
            <h4 class = "question">You rarley do something just out of sheer curiousity.</h4>
            <select class="custom-select" id="questionFOUR" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 5</strong></h3>
            <h4 class= "question">People can rarley upset you.</h4>
            <select class="custom-select" id="questionFIVE" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 6</strong></h3>
            <h4 class ="question">It is often difficult for you to relate to other people's feelings.</h4>
            <select class="custom-select" id="questionSIX" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 7</strong></h3>
            <h4 class="question">In a discussion, truth should be more important than people's sensetivites.</h4>
            <select class="custom-select" id="questionSEVEN" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 8</strong></h3>
            <h4 class="question">Genereally Speaking, you rely more on your expereince than your imagination.</h4>
            <select class="custom-select" id="questionEIGHT" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <h3><strong>Question 9</strong></h3>
            <h4 class="question">Genereally Speaking, you rely more on your expereince than your imagination.</h4>
            <select class="custom-select" id="questionNINE" style="width:200px;">
                <option value></option>
                <option value="1">1 (Strongley Disagree)</option>
                <option value="2">2</option>
                <option value="3">3</option>
                <option value="4">4</option>
                <option value="5">5 (Strongly Agree)</option>
                </select>

                <br>
                <button type="submit" class="btn btn-primary btn-lg btn-block" id="submit">SUBMIT</button>
                <hr>
           
        
                <nav class="navbar navbar-default navbar-fixed-bottom">
                        <div class="container vertical_alignment">
                               <p class="text-center"><a href="/api/friends" target="_blank">API Friends List</a> | <a href="https://github.com/getatmeyer/FriendFInder" target="_blank">GitHub Repo</a> | <a href="home.html">Home</a></p>
                        </div>
                    </nav>
                <footer class="footer">

                </footer>

                <!--MATCH MODAL -->
                <div class="modal" tabindex="-1" role="dialog">
                    <div class="modal-dialog" role="document">
                      <div class="modal-content">
                        <div class="modal-header">
                          <h5 class="modal-title">Modal title</h5>
                          <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                            <span aria-hidden="true">&times;</span>
                          </button>
                        </div>
                        <div class="modal-body">
                          <p id="matchName">MatchName</p>
                          <img id="matchImg" class="img-responsive" src="" alt="portrait">

                        </div>
                        <div class="modal-footer">
                          <button type="button" class="btn btn-secondary" data-dismiss="modal">Close</button>
                          <button type="button" class="btn btn-primary">Save changes</button>
                        </div>
                      </div>
                    </div>
                  </div>
                <!-- <div id="resultsModal" class="modal fade" role="dialog">
                    <div class="modal-dialog"> -->

                    <!-- MODAL CONTENT -->
                        <!-- <div class="modal-content">

                           <div class= "modal-header">
                               <button type="button" class="close" data-dismiss="modal">&times;</button>
                               <h2 class="modal-title"><strong>Meet Your Best Friend!</strong></h2>
                               </div>

                               <div class="modal-body">
                               <h2 id="matchName"></h2>
                               <img id="matchImg" class="img-responsive" src="" alt="portrait">

                            <div class="modal-footer">
                                <button type="button" class="btn btn-default" data-dismiss="modal">Close</button>
                            </div>
                        </div>
                    </div>
                    </div>
                    </div> -->
                    
            <!-- SUBMIT BUTTON  JavaScript -->
            <script>

            // $("#submit").on('shown.bs.modal', function () {
            // $("#submit").trigger('focus')
// })
            // Capture the form input
            $("#submit").on("click", function() {
                event.preventDefault();
                $(".modal").modal("toggle")

                function validate() {
                    var valid = true;
                    $('.form-control').each(function() {
                    if ($(this).val() === '')
                valid = false;
                    });

                    $('.custom-select').each(function() {
                    if ($(this).val() === '')
                    valid = false;
                        console.log(validate);
                        
                    })
                }validate();

                // $(".form-control").val() === " " || $(".custom-select").val() === " " {
                // valid = false;

                // }
                                  
                var newFriend = {
                    name: $("#name").val().trim(),
                    photo:$("#photo").val().trim(),
                    score: [   
                         $("#questionONE").val(),
                         $("#questionTWO").val(), 
                         $("#questionTHREE").val(),
                         $("#questionFOUR").val(), 
                         $("#questionFIVE").val(), 
                         $("#questionSIX").val(), 
                         $("#questionSEVEN").val(), 
                         $("#questionEIGHT").val(), 
                         $("#questionNINE").val() 
                ]}
                console.log("NewFriend", newFriend); // PASSED
                
                $.post("/api/friends", newFriend, function (data) {
                    // console.log(newFriend);
                    // console.log(data);
                    // console.log(newFriend.res.body)
                    // console.log("data", data);
                    
                    $("#matchName").text(data.name);
                    $("matchImg").attr("src", data.photo);
                    $("resultModal").modal("toggle");  
                });

                //clear form after submission
            $('#name').val("");
            $('#photo').val("");
            $('#questionONE').val("");
            $('#questionTWO').val("");
            $('#questionTHREE').val("");
            $('#questionFOUR').val("");
            $('#questionFIVE').val("");
            $('#questionSIX').val("");
            $('#questionSEVEN').val("");
            $('#questionEIGHT').val("");
            $('#questionNINE').val("");

            })

         </script>
            
        </body>
        </html>